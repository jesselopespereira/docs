---
title: 'API Reference'
description: 'Complete documentation of Krigg endpoints'
---

## Overview

Krigg provides a single endpoint for generating heatmaps using Kriging interpolation. The API is built with Express.js and returns locally hosted PNG images.

<Card
  title="POST /api/kriging"
  icon="chart-network"
  href="/api-reference/endpoint/kriging"
>
  Generate heat map by interpolation.
</Card>

## Base URL

```
http://localhost:3000
```

<Note>
  The API is currently configured to run locally. Configure the `PORT` environment variable to change the default port.
</Note>

## Request Format

All requests must be sent via POST with `Content-Type: application/json`.

### Basic Structure

```json
{
  "points": [
    { "x": -46.6333, "y": -23.5505, "value": 25.5 }
  ],
  "colors": ["#2DCC70", "#E74B3C"],
  "width": 400,
  "polygon": {
    "type": "Polygon",
    "coordinates": [[...]]
  }
}
```

## Response Format

### Success (200 OK)

```json
{
  "imageUrl": "http://localhost:3000/public/kriging_abc123def456.png"
}
```

### Error (400 Bad Request)

```json
{
  "error": "You need at least 3 points."
}
```

### Error (500 Internal Server Error)

```json
{
  "error": "Error generating kriging"
}
```

## Cache System

The API implements intelligent caching based on MD5 hashing of request parameters:
- Identical requests return the same image without reprocessing
- The hash includes: points, colors, width, polygon, and variogram parameters.
- The images are stored in `/public`

## Next Steps

<CardGroup cols={2}>
  <Card
    title="Complete Endpoint"
    icon="code"
    href="/api-reference/endpoint/kriging"
  >
    See all the details and examples
  </Card>
  <Card
    title="Quickstart"
    icon="rocket"
    href="/quickstart"
  >
    Place your first order.
  </Card>
</CardGroup>
